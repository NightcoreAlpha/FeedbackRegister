@inject AuthenticationStateProvider Provider

<header>
    <div class="info-line">
        <ul class="ul-item">
            <li class="li-item">
                <img src="images/location.svg" style="width:15px;height:28px;" />
                Молдова
            </li>
            <li class="li-item">
                <a href="/mycontacts">Контакты</a>
            </li>
            <li class="li-item">
                <a href="/requisites">Реквизиты</a>
            </li>
            <li class="li-item">
                <img src="images/call.svg" style="width:20px;line-height:32px;" />
                +373-784-46-676
            </li>
        </ul>
    </div>
    <nav class="panel-line">
        <div class="panel-item">
            <a href="/"><img src="images/logoHC.svg" /></a>
            <div class="panel-search">
                <input class="input-place" type="search" placeholder="Поиск по сайту" autocomplete="on">
                <img src="images/loupe.svg" class="search-icon" />
            </div>
            <div class="user-elements">
                <a class="user-item" href="/">
                    <img src="images/heart.svg" style="width:20px;height:20px">
                    <span>Избранное</span>
                </a>
                <a class="user-item" href="/">
                    <img src="images/cart.svg" style="width:24px;height:24px">
                    <span>Корзина</span>
                </a>
                <a class="user-item" href="/registration">
                    <span class="oi oi-people">Регистрация</span>
                </a>
                @if (result == false)
                {
                    <a class="user-item" href="/authorization">
                        <span class="oi oi-people">Войти</span>
                    </a>
                }
                else
                {
                    <a class="user-item" href="/logout">
                        <span class="oi oi-people">@userName</span>
                    </a>
                    <Handicraft.Pages.Logout />
                }
            </div>
        </div>
    </nav>
</header>
@code {
    bool result = false;
    string userName = "";
    protected override void OnInitialized()
    {
        //Guid idproduct = new Guid(id);

        base.OnInitialized();
        GetUser();
        //product = Data.GetDataClass.getProduct(idproduct);
    }
    public async void GetUser()
    {
        var state = await Provider.GetAuthenticationStateAsync();
        var loginExist = state?.User?.Identity?.Name;
        if (loginExist == null)
        {
            result = false;
        }
        else
        {
            result = true;
            userName = state?.User?.Identity?.Name;
            StateHasChanged();
        }
    }
}
